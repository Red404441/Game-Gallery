<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Gallery Link Generator</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@700;900&family=DM+Sans:wght@400;500;600&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet"/>
<style>
:root{
  --sky-top:#6ec6f5;--sky-mid:#b8e0f7;--sky-low:#dff2fd;
  --glass:rgba(255,255,255,0.65);--glass-border:rgba(255,255,255,0.78);
  --accent:#0e7fcc;--accent-glow:rgba(14,127,204,0.22);
  --accent-2:#46c4e3;--success:#0a9e6e;--success-glow:rgba(10,158,110,0.2);
  --text:#042a3c;--text-mid:#185470;--text-soft:#3a7a99;
  --radius-lg:18px;--radius-md:12px;--radius-sm:8px;
  --font-display:'Unbounded',sans-serif;
  --font-body:'DM Sans',sans-serif;
  --font-mono:'DM Mono',monospace;
  --ease:.28s cubic-bezier(.2,.9,.3,1);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html,body{min-height:100%;font-family:var(--font-body);color:var(--text);-webkit-font-smoothing:antialiased;}
body{
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E"),
    linear-gradient(170deg,var(--sky-top) 0%,var(--sky-mid) 45%,var(--sky-low) 80%,#f0faff 100%);
  background-attachment:fixed;
  display:flex;align-items:center;justify-content:center;
  padding:32px 16px;
}
body::before{
  content:'';position:fixed;width:560px;height:560px;border-radius:50%;
  background:radial-gradient(circle,rgba(110,198,245,0.26),transparent 65%);
  top:-140px;right:-140px;pointer-events:none;z-index:0;
}
body::after{
  content:'';position:fixed;width:400px;height:400px;border-radius:50%;
  background:radial-gradient(circle,rgba(70,196,227,0.16),transparent 65%);
  bottom:-100px;left:-100px;pointer-events:none;z-index:0;
}

/* ── Card ── */
.card{
  position:relative;z-index:1;width:min(540px,100%);
  background:var(--glass);border:1px solid var(--glass-border);
  border-radius:var(--radius-lg);padding:32px 28px 28px;
  box-shadow:0 24px 60px rgba(0,40,100,0.12),0 0 0 1px rgba(255,255,255,0.5) inset;
  backdrop-filter:blur(18px) saturate(140%);-webkit-backdrop-filter:blur(18px) saturate(140%);
  animation:cardIn .5s cubic-bezier(.2,.9,.3,1) both;
}
@keyframes cardIn{from{opacity:0;transform:translateY(22px) scale(.98);}to{opacity:1;transform:none;}}

/* ── Header ── */
.header{display:flex;align-items:center;gap:14px;margin-bottom:28px;}
.logo{
  width:46px;height:46px;border-radius:var(--radius-md);flex-shrink:0;
  background:linear-gradient(145deg,#d4f0ff,#aadaf5);
  box-shadow:0 4px 16px rgba(0,80,160,0.12),inset 0 1px 0 rgba(255,255,255,0.7);
  display:flex;align-items:center;justify-content:center;
}
.logo svg{width:24px;height:24px;}
.header-text h1{font-family:var(--font-display);font-size:17px;font-weight:900;color:var(--text);letter-spacing:-0.4px;}
.header-text p{font-size:12.5px;color:var(--text-soft);margin-top:3px;}

/* ── Fields ── */
.fields{display:flex;flex-direction:column;gap:14px;}

.field{display:flex;flex-direction:column;gap:6px;}
.field label{font-size:12px;font-weight:600;color:var(--text-mid);letter-spacing:0.3px;text-transform:uppercase;}

.field input, .field select{
  padding:11px 13px;border-radius:var(--radius-md);
  border:1.5px solid rgba(0,0,0,0.07);font-size:14.5px;
  font-family:var(--font-body);color:var(--text);
  background:rgba(255,255,255,0.88);
  box-shadow:0 3px 10px rgba(0,0,0,0.04),inset 0 1px 0 white;
  outline:none;transition:border-color .2s,box-shadow .2s;
  width:100%;
}
.field input:focus,.field select:focus{
  border-color:rgba(14,127,204,0.4);
  box-shadow:0 0 0 4px var(--accent-glow),0 3px 10px rgba(0,0,0,0.04);
}
.field input::placeholder{color:#a0b8c8;}

/* custom category row */
.cat-row{display:flex;gap:10px;align-items:flex-end;}
.cat-row .field{flex:1;}
.cat-custom-wrap{display:flex;flex-direction:column;gap:6px;flex:1;}
.cat-custom-wrap label{font-size:12px;font-weight:600;color:var(--text-mid);letter-spacing:0.3px;text-transform:uppercase;}
#customCatWrap{display:none;flex-direction:column;gap:14px;margin-top:-4px;}
#customCatWrap.show{display:flex;}
.custom-row{display:flex;gap:10px;}
.custom-row input{flex:1;}
.custom-row input:last-child{flex:0 0 130px;}

/* ── Preview ── */
.divider{height:1px;background:linear-gradient(90deg,transparent,rgba(0,80,140,0.10),transparent);margin:4px 0;}

.preview-section{display:flex;flex-direction:column;gap:10px;}
.preview-label{font-size:12px;font-weight:600;color:var(--text-mid);letter-spacing:0.3px;text-transform:uppercase;}

.output-block{
  position:relative;
  background:rgba(3,22,40,0.88);border-radius:var(--radius-md);padding:16px 48px 16px 16px;
  border:1px solid rgba(255,255,255,0.06);
  box-shadow:0 8px 24px rgba(0,0,0,0.18),inset 0 1px 0 rgba(255,255,255,0.04);
  font-family:var(--font-mono);font-size:13.5px;line-height:1.6;
  color:#c8e8f8;word-break:break-all;min-height:52px;
  transition:box-shadow .2s;
}
.output-block.flash{box-shadow:0 0 0 3px var(--success-glow),0 8px 24px rgba(0,0,0,0.18);}

/* syntax colours */
.syn-brace{color:#7ec8e3;}
.syn-key{color:#80cbc4;}
.syn-str{color:#c3e88d;}
.syn-cat{color:#ffcb6b;}
.syn-comma{color:#7ec8e3;}

.copy-btn{
  position:absolute;top:10px;right:10px;
  width:30px;height:30px;border-radius:var(--radius-sm);border:1px solid rgba(255,255,255,0.10);
  background:rgba(255,255,255,0.07);cursor:pointer;display:flex;align-items:center;justify-content:center;
  transition:background var(--ease),transform var(--ease);
}
.copy-btn:hover{background:rgba(255,255,255,0.14);transform:scale(1.08);}
.copy-btn svg{width:14px;height:14px;pointer-events:none;}
.copy-btn .check{display:none;}
.copy-btn.copied .icon{display:none;}
.copy-btn.copied .check{display:block;}

/* ── Add multiple ── */
.queue-section{display:flex;flex-direction:column;gap:10px;}
.queue-label{font-size:12px;font-weight:600;color:var(--text-mid);letter-spacing:0.3px;text-transform:uppercase;}
.queue-actions{display:flex;gap:8px;}

.btn{
  padding:10px 16px;border-radius:var(--radius-md);border:0;cursor:pointer;
  font-family:var(--font-body);font-size:13px;font-weight:600;
  transition:transform var(--ease),box-shadow var(--ease),background var(--ease);
}
.btn:active{transform:scale(.98);}
.btn-primary{
  background:linear-gradient(145deg,var(--accent),#0a6ab5);color:white;
  box-shadow:0 6px 18px rgba(14,127,204,0.28);flex:1;
  font-family:var(--font-display);font-size:11px;font-weight:700;letter-spacing:0.5px;
}
.btn-primary:hover{box-shadow:0 10px 26px rgba(14,127,204,0.36);transform:translateY(-1px);}
.btn-ghost{
  background:rgba(255,255,255,0.6);border:1px solid rgba(0,80,140,0.12);
  color:var(--text-mid);
}
.btn-ghost:hover{background:rgba(255,255,255,0.85);}

/* queue list */
.queue-list{
  background:rgba(3,22,40,0.88);border-radius:var(--radius-md);
  border:1px solid rgba(255,255,255,0.06);
  box-shadow:0 8px 24px rgba(0,0,0,0.18);
  max-height:200px;overflow-y:auto;
  font-family:var(--font-mono);font-size:12.5px;color:#c8e8f8;
  display:none;
}
.queue-list.show{display:block;}
.queue-list::-webkit-scrollbar{width:6px;}
.queue-list::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.12);border-radius:6px;}
.queue-item{padding:9px 36px 9px 14px;border-bottom:1px solid rgba(255,255,255,0.04);position:relative;line-height:1.5;}
.queue-item:last-child{border-bottom:0;}
.queue-remove{
  position:absolute;right:10px;top:50%;transform:translateY(-50%);
  width:20px;height:20px;border-radius:50%;border:0;background:rgba(192,57,43,0.18);
  color:rgba(255,100,80,0.8);font-size:14px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;
  transition:background .15s;
}
.queue-remove:hover{background:rgba(192,57,43,0.4);}

.queue-copy-all{
  padding:9px 14px;border-bottom:1px solid rgba(255,255,255,0.08);
  display:flex;justify-content:flex-end;gap:8px;align-items:center;
  font-size:11.5px;color:rgba(200,232,248,0.5);
}
.queue-copy-all button{
  background:rgba(14,127,204,0.22);border:1px solid rgba(14,127,204,0.2);
  color:#7ec8e3;font-family:var(--font-body);font-size:11.5px;font-weight:600;
  padding:4px 10px;border-radius:6px;cursor:pointer;transition:background .15s;
}
.queue-copy-all button:hover{background:rgba(14,127,204,0.38);}

/* ── Footer ── */
.footer{margin-top:20px;text-align:center;font-size:11.5px;color:var(--text-soft);}
.footer a{color:var(--accent);text-decoration:none;}

/* ── Favicon preview ── */
.favicon-preview{
  display:flex;align-items:center;gap:10px;
  background:rgba(255,255,255,0.55);border:1px solid rgba(0,80,140,0.10);
  border-radius:var(--radius-sm);padding:8px 12px;font-size:12.5px;color:var(--text-mid);
}
.favicon-preview img{width:20px;height:20px;border-radius:4px;object-fit:contain;}
.favicon-preview .fav-host{font-weight:500;}
.favicon-preview.hidden{display:none;}
</style>
</head>
<body>

<div class="card">
  <!-- Header -->
  <div class="header">
    <div class="logo">
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M8 12h2m-1-1v2" stroke="#0e7fcc" stroke-width="1.8" stroke-linecap="round"/>
        <circle cx="17" cy="12" r="1.2" fill="#0e7fcc"/>
        <circle cx="14.5" cy="12" r="1.2" fill="#46c4e3"/>
        <rect x="2" y="7" width="20" height="12" rx="3.5" stroke="#0e7fcc" stroke-width="1.7"/>
        <path d="M9 7V5.5a3 3 0 0 1 6 0V7" stroke="#0e7fcc" stroke-width="1.7" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="header-text">
      <h1>Gallery Link Generator</h1>
      <p>Fill in the fields — copy the output straight into your LINKS array.</p>
    </div>
  </div>

  <!-- Fields -->
  <div class="fields">
    <div class="field">
      <label for="linkUrl">URL</label>
      <input id="linkUrl" type="url" placeholder="https://example.com/" autocomplete="off" spellcheck="false"/>
    </div>

    <div class="field">
      <label for="linkName">Display Name</label>
      <input id="linkName" type="text" placeholder="My Awesome Game" autocomplete="off"/>
    </div>

    <div class="cat-row">
      <div class="field">
        <label for="linkCat">Category</label>
        <select id="linkCat">
          <option value="io">.io Games</option>
          <option value="hub" selected>Hub / Portal</option>
          <option value="classic">Classic</option>
          <option value="fun">Fun / Misc</option>
          <option value="retro">Retro / OS</option>
          <option value="edu">Education</option>
          <option value="sim">Simulation</option>
          <option value="__new__">+ New category…</option>
        </select>
      </div>
    </div>

    <!-- New category inputs (shown only when "+ New category" picked) -->
    <div id="customCatWrap">
      <div class="custom-row">
        <div class="field" style="flex:1">
          <label for="catKey">Category key <span style="font-weight:400;text-transform:none;opacity:.7">(no spaces)</span></label>
          <input id="catKey" type="text" placeholder="action" autocomplete="off" spellcheck="false"/>
        </div>
        <div class="field" style="flex:0 0 160px">
          <label for="catLabel">Label shown in UI</label>
          <input id="catLabel" type="text" placeholder="Action" autocomplete="off"/>
        </div>
      </div>
    </div>
  </div>

  <div style="height:20px;"></div>
  <div class="divider"></div>
  <div style="height:16px;"></div>

  <!-- Live preview -->
  <div class="preview-section">
    <div class="preview-label">Output — paste into LINKS array</div>

    <!-- favicon preview strip -->
    <div class="favicon-preview hidden" id="faviconPreview">
      <img id="faviconImg" src="" alt=""/>
      <span>Favicon detected for&nbsp;<strong class="fav-host" id="favHost"></strong></span>
    </div>

    <div class="output-block" id="outputBlock">
      <button class="copy-btn" id="copyBtn" title="Copy to clipboard" aria-label="Copy">
        <svg class="icon" viewBox="0 0 24 24" fill="none"><rect x="9" y="9" width="13" height="13" rx="2" stroke="#c8e8f8" stroke-width="1.6"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" stroke="#c8e8f8" stroke-width="1.6" stroke-linecap="round"/></svg>
        <svg class="check" viewBox="0 0 24 24" fill="none"><path d="M5 13l4 4L19 7" stroke="#c3e88d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <span id="outputText"><span style="color:rgba(200,232,248,0.3)">Fill in the fields above…</span></span>
    </div>

    <!-- New CAT_LABELS line (only shown when new cat chosen) -->
    <div id="catLabelOutput" style="display:none;flex-direction:column;gap:8px;">
      <div class="preview-label">Also add this to <code style="font-family:var(--font-mono);font-size:11px;background:rgba(0,0,0,0.08);padding:1px 5px;border-radius:4px;">CAT_LABELS</code></div>
      <div class="output-block" id="catOutputBlock">
        <button class="copy-btn" id="copyCatBtn" title="Copy to clipboard" aria-label="Copy category line">
          <svg class="icon" viewBox="0 0 24 24" fill="none"><rect x="9" y="9" width="13" height="13" rx="2" stroke="#c8e8f8" stroke-width="1.6"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" stroke="#c8e8f8" stroke-width="1.6" stroke-linecap="round"/></svg>
          <svg class="check" viewBox="0 0 24 24" fill="none"><path d="M5 13l4 4L19 7" stroke="#c3e88d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <span id="catOutputText"></span>
      </div>
    </div>
  </div>

  <div style="height:20px;"></div>
  <div class="divider"></div>
  <div style="height:16px;"></div>

  <!-- Queue / bulk -->
  <div class="queue-section">
    <div class="queue-label">Bulk — queue multiple links</div>
    <div class="queue-actions">
      <button class="btn btn-ghost" id="addToQueueBtn">+ Add to queue</button>
      <button class="btn btn-ghost" id="clearQueueBtn" style="display:none">Clear</button>
    </div>
    <div class="queue-list" id="queueList">
      <div class="queue-copy-all">
        <span id="queueCount">0 items</span>
        <button id="copyAllBtn">Copy all</button>
      </div>
      <div id="queueItems"></div>
    </div>
  </div>

  <div class="footer">
    For use with <a href="https://github.com/Red404441/Games-gallery-" target="_blank" rel="noopener">The Game Gallery ↗</a>
  </div>
</div>

<script>
'use strict';

const urlInput   = document.getElementById('linkUrl');
const nameInput  = document.getElementById('linkName');
const catSelect  = document.getElementById('linkCat');
const catKeyIn   = document.getElementById('catKey');
const catLabelIn = document.getElementById('catLabel');
const customWrap = document.getElementById('customCatWrap');
const outputText = document.getElementById('outputText');
const outputBlock= document.getElementById('outputBlock');
const copyBtn    = document.getElementById('copyBtn');
const catLabelOutput = document.getElementById('catLabelOutput');
const catOutputText  = document.getElementById('catOutputText');
const copyCatBtn     = document.getElementById('copyCatBtn');
const faviconPreview = document.getElementById('faviconPreview');
const faviconImg     = document.getElementById('faviconImg');
const favHost        = document.getElementById('favHost');

// Queue
const addToQueueBtn = document.getElementById('addToQueueBtn');
const clearQueueBtn = document.getElementById('clearQueueBtn');
const queueList     = document.getElementById('queueList');
const queueItems    = document.getElementById('queueItems');
const queueCount    = document.getElementById('queueCount');
const copyAllBtn    = document.getElementById('copyAllBtn');
let queue = [];

/* ── Helpers ── */
function esc(s){ return s.replace(/\\/g,'\\\\').replace(/"/g,'\\"'); }

function getCatValue(){
  if(catSelect.value === '__new__'){
    return catKeyIn.value.trim().replace(/\s+/g,'').toLowerCase() || 'custom';
  }
  return catSelect.value;
}

function buildLine(name, url, cat){
  return `{name:"${esc(name)}", url:"${esc(url)}", cat:"${esc(cat)}"},`;
}

function buildCatLine(key, label){
  return `  ${key}: '${esc(label)}',`;
}

function syntaxHL(name, url, cat){
  return `<span class="syn-brace">{</span><span class="syn-key">name:</span><span class="syn-str">"${esc(name)}"</span>, <span class="syn-key">url:</span><span class="syn-str">"${esc(url)}"</span>, <span class="syn-key">cat:</span><span class="syn-cat">"${esc(cat)}"</span><span class="syn-brace">}</span><span class="syn-comma">,</span>`;
}

function syntaxHLCat(key, label){
  return `<span style="color:#80cbc4">  ${esc(key)}</span><span style="color:#7ec8e3">: </span><span style="color:#c3e88d">'${esc(label)}'</span><span style="color:#7ec8e3">,</span>`;
}

/* ── Favicon ── */
let favTimer;
function updateFavicon(url){
  clearTimeout(favTimer);
  try{
    const host = new URL(url).hostname;
    if(!host){ faviconPreview.classList.add('hidden'); return; }
    favTimer = setTimeout(() => {
      const src = `https://www.google.com/s2/favicons?domain=${host}&sz=64`;
      faviconImg.src = src;
      favHost.textContent = host.replace(/^www\./,'');
      faviconPreview.classList.remove('hidden');
      faviconImg.onerror = () => faviconPreview.classList.add('hidden');
    }, 400);
  }catch{ faviconPreview.classList.add('hidden'); }
}

/* ── Auto-fill name from URL ── */
let nameTouched = false;
nameInput.addEventListener('input', () => { nameTouched = true; });
urlInput.addEventListener('blur', () => {
  if(nameTouched) return;
  try{
    const host = new URL(urlInput.value).hostname.replace(/^www\./,'');
    if(host && !nameInput.value){
      // capitalise first segment nicely
      const parts = host.split('.');
      nameInput.value = parts[0].charAt(0).toUpperCase() + parts[0].slice(1);
      nameTouched = false; // still overridable
    }
  }catch{}
  update();
});

/* ── Category toggle ── */
catSelect.addEventListener('change', () => {
  const isNew = catSelect.value === '__new__';
  customWrap.classList.toggle('show', isNew);
  update();
});
catKeyIn.addEventListener('input', update);
catLabelIn.addEventListener('input', update);

/* ── Main update ── */
function update(){
  const name = nameInput.value.trim();
  const url  = urlInput.value.trim();
  const cat  = getCatValue();
  const isNew = catSelect.value === '__new__';

  // favicon
  if(url) updateFavicon(url);
  else faviconPreview.classList.add('hidden');

  if(!name && !url){
    outputText.innerHTML = '<span style="color:rgba(200,232,248,0.3)">Fill in the fields above…</span>';
    catLabelOutput.style.display = 'none';
    return;
  }

  const displayName = name || '…';
  const displayUrl  = url  || '…';

  outputText.innerHTML = syntaxHL(displayName, displayUrl, cat);

  // new cat label block
  if(isNew && catKeyIn.value.trim()){
    const key = catKeyIn.value.trim().replace(/\s+/g,'').toLowerCase();
    const lbl = catLabelIn.value.trim() || key;
    catOutputText.innerHTML = syntaxHLCat(key, lbl);
    catLabelOutput.style.display = 'flex';
  }else{
    catLabelOutput.style.display = 'none';
  }
}

urlInput.addEventListener('input', () => { update(); });
nameInput.addEventListener('input', update);

/* ── Copy single ── */
function copyText(text, btn){
  navigator.clipboard.writeText(text).then(() => {
    btn.classList.add('copied');
    setTimeout(() => btn.classList.remove('copied'), 1800);
  }).catch(() => {
    // fallback
    const ta = document.createElement('textarea');
    ta.value = text; ta.style.position='fixed'; ta.style.opacity='0';
    document.body.appendChild(ta); ta.select();
    document.execCommand('copy');
    document.body.removeChild(ta);
    btn.classList.add('copied');
    setTimeout(() => btn.classList.remove('copied'), 1800);
  });
}

copyBtn.addEventListener('click', () => {
  const name = nameInput.value.trim() || '…';
  const url  = urlInput.value.trim()  || '…';
  const cat  = getCatValue();
  copyText(buildLine(name, url, cat), copyBtn);
  outputBlock.classList.add('flash');
  setTimeout(() => outputBlock.classList.remove('flash'), 600);
});

copyCatBtn.addEventListener('click', () => {
  const key = catKeyIn.value.trim().replace(/\s+/g,'').toLowerCase();
  const lbl = catLabelIn.value.trim() || key;
  copyText(buildCatLine(key, lbl), copyCatBtn);
});

/* ── Queue ── */
function renderQueue(){
  const hasItems = queue.length > 0;
  queueList.classList.toggle('show', hasItems);
  clearQueueBtn.style.display = hasItems ? '' : 'none';
  queueCount.textContent = `${queue.length} item${queue.length !== 1 ? 's' : ''}`;

  queueItems.innerHTML = '';
  queue.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'queue-item';
    div.innerHTML = syntaxHL(item.name, item.url, item.cat);
    const rm = document.createElement('button');
    rm.className = 'queue-remove';
    rm.title = 'Remove';
    rm.innerHTML = '×';
    rm.addEventListener('click', () => { queue.splice(i, 1); renderQueue(); });
    div.appendChild(rm);
    queueItems.appendChild(div);
  });
}

addToQueueBtn.addEventListener('click', () => {
  const name = nameInput.value.trim();
  const url  = urlInput.value.trim();
  const cat  = getCatValue();
  if(!name || !url){ 
    urlInput.focus();
    urlInput.style.borderColor = 'rgba(192,57,43,0.5)';
    setTimeout(() => urlInput.style.borderColor = '', 1200);
    return;
  }
  queue.push({name, url, cat});
  renderQueue();
  // Clear for next entry
  nameInput.value = ''; urlInput.value = ''; nameTouched = false;
  catSelect.value = 'hub'; customWrap.classList.remove('show');
  update();
  urlInput.focus();
});

clearQueueBtn.addEventListener('click', () => { queue = []; renderQueue(); });

copyAllBtn.addEventListener('click', () => {
  const text = queue.map(i => buildLine(i.name, i.url, i.cat)).join('\n');
  copyText(text, copyAllBtn);
  copyAllBtn.textContent = 'Copied ✓';
  setTimeout(() => copyAllBtn.textContent = 'Copy all', 1800);
});

/* Keyboard shortcut: Enter in URL/name adds to queue if name+url filled */
[urlInput, nameInput].forEach(el => {
  el.addEventListener('keydown', e => {
    if(e.key === 'Enter' && urlInput.value.trim() && nameInput.value.trim()){
      e.preventDefault();
      addToQueueBtn.click();
    }
  });
});
</script>
</body>
</html>
